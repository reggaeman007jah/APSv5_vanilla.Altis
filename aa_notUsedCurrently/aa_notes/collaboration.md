/\*

- A function which creates a new unit and possibly orders it to immediately to move
- to given destination.
-
- Parameters:
- \_side - (Side command) The side of the units (west, east, etc.)
- \_type - (String) The type of unit's class name
- \_position - (Position2D/3D) The position to where unit is createDialog
- \_dest - (Optional) (Position2D/3D) The destination position to where unit is ordered to move
  \*/
  Reggs_APS_Create_Unit = {
  params ["_side", "_type", "_position", "_dest"];


    private _newGroup = createGroup _side;
    private _pos = [_position, 0, 60] call BIS_fnc_findSafePos;
    private _unit = _newGroup createUnit [_type, _pos, [], 0.1, "none"];
    _unit setVariable ["reggsAPSAutoGenerated", true, true];

    if _dest then {
        [_unit, _dest] call Reggs_APS_Move_Unit;
    }

};

/\*

- A function which orders the given unit to move to the given destination position.
- Randomizes the actual position around the given destination and sets unit's behaviour to 'COMBAT'
-
- Parameters:
- \_unit - (Unit) Unit to order
- \_dest - (Position2D/3D) Destination position
- \_rnddir - (Optional) (Array of numbers) An array of numbers used to randomize the movement pos' distance from \_dest
- \_rnddist - (Optional) (Array of numbers) An array of numbers used to randomize the movement pos' direction from \_dest
  \*/
  Reggs_APS_Move_Unit = {
  params ["\_unit", "\_dest", ["\_rnddir", [270, 310, 00, 50, 90]], ["\_rnddist", [20, 22, 24, 26, 28, 30]]];


    private _randomDir = selectRandom _rnddir;
    private _randomDist = selectRandom _rnddist;
    private _unitDest = [_dest, 5, 20] call BIS_fnc_findSafePos;
    private _endPoint = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint;

};

---

/_
there is a lot of wet code here - consider making functions to issue move orders  
_/
sleep 3;

// by parsing a location in here i can easily gen blufor platoons from anywhere, but for now they are only spawning at the perma-base
\_spawnPos = \_this select 0;

systemChat "blu units being created - check perf";

for "\_i" from 1 to 8 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_Rifleman_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

for "\_i" from 1 to 4 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_MGGPMG_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

for "\_i" from 1 to 2 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_LSW_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

for "\_i" from 1 to 2 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_Grenadier_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

for "\_i" from 1 to 2 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_Marksman_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

for "\_i" from 1 to 2 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_Medic_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

for "\_i" from 1 to 2 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_Sharpshooter_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

for "\_i" from 1 to 1 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_Engineer_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

for "\_i" from 1 to 1 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_Explosive_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

for "\_i" from 1 to 1 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_Officer_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

for "\_i" from 1 to 1 do {
bluGroup = createGroup west;
\_pos = [_spawnPos, 0, 60] call BIS_fnc_findSafePos;
\_unit = bluGroup createUnit ["UK3CB_BAF_RO_MTP", \_pos, [], 0.1, "none"];

    sleep 1;

    _randomDir = selectRandom [270, 310, 00, 50, 90];
    _randomDist = selectRandom [20, 22, 24, 26, 28, 30];
    _unitDest = [RGG_patrol_obj, 5, 20] call BIS_fnc_findSafePos;
    _endPoint1 = _unitDest getPos [_randomDist,_randomDir];

    _unit setBehaviour "COMBAT";
    _unit doMove _endPoint1;

};

systemChat "blu spawner complete "

// execVM "autoPatrolSystem\checkBluforRF.sqf";

---
